Original Message,Model Output
refactoring to use PhaseDiagram.pd_coords,"Generate a commit message for this git diff:

diff --git a/pymatgen/phasediagram/analyzer.py b/pymatgen/phasediagram/analyzer.py
index <HASH>..<HASH> 100644
--- a/pymatgen/phasediagram/analyzer.py
+++ b/pymatgen/phasediagram/analyzer.py
@@ -68,7 +68,7 @@ class PDAnalyzer(object):
         if set(comp.elements).difference(self._pd.elements):
             raise ValueError('{} has elements not in the phase diagram {}'
                              ''.format(comp, self._pd.elements))
-        c = [comp.get_atomic_fraction(e) for e in self._pd.elements[1:]]
+        c = self._pd.pd_coords(comp)
         for f, s in zip(self._pd.facets, self._pd.simplexes):
             if s.in_simplex(c, PDAnalyzer.numerical_tol / 10):
                 return f, s
@@ -245,8 +245,8 @@ class PDAnalyzer(object):
 
         # the reduced dimensionality Simplexes don't use the
         # first element in the PD
-        c1 = np.array([comp1.get_atomic_fraction(e) for e in pd_els[1:]])
-        c2 = np.array([comp2.get_atomic_fraction(e) for e in pd_els[1:]])
+        c1 = self._pd.pd_coords(comp1)
+        c2 = self._pd.pd_coords(comp2)
 
         intersections = [c1, c2]
         for sc in self._pd.simplexes:

Commit message:

```

### 1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2"
refactor(replset): reduce server count when destroyed,"Generate a commit message for this git diff:

diff --git a/lib/core/topologies/replset.js b/lib/core/topologies/replset.js
index <HASH>..<HASH> 100644
--- a/lib/core/topologies/replset.js
+++ b/lib/core/topologies/replset.js
@@ -300,15 +300,11 @@ function connectNewServers(self, servers, callback) {
 
       // Destroyed
       if (self.state === DESTROYED || self.state === UNREFERENCED) {
-        return this.destroy({ force: true });
+        this.destroy({ force: true });
+        return done();
       }
 
       if (event === 'connect') {
-        // Destroyed
-        if (self.state === DESTROYED || self.state === UNREFERENCED) {
-          return _self.destroy({ force: true });
-        }
-
         // Update the state
         var result = self.s.replicaSetState.update(_self);
         // Update the state with the new server
@@ -363,8 +359,7 @@ function connectNewServers(self, servers, callback) {
         connectingServer.destroy({ force: true });
 
         self.s.connectingServers.splice(existingServerIdx, 1);
-        done();
-        return;
+        return done();
       }
 
       // Create a new server instance

Commit message:

```

### 1.2.2

```

### 1.2.1

```

### 1.2.0

```

### 1.1.1

```

### 1.1.0

```

### 1.0.0

```

### 0.1.0

```

### 0.0.1

```
"
